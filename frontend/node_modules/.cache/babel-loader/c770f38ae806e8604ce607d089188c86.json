{"ast":null,"code":"import _slicedToArray from \"C:\\\\Users\\\\Admin\\\\Desktop\\\\react app test\\\\frontend\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/slicedToArray\";\nvar _jsxFileName = \"C:\\\\Users\\\\Admin\\\\Desktop\\\\react app test\\\\frontend\\\\src\\\\screens\\\\SigninScreen.js\";\nimport React, { useEffect, useState } from 'react';\nimport { useDispatch, useSelector } from 'react-redux';\nimport { Link, useNavigate } from 'react-router-dom';\nimport { signin } from '../actions/userActions';\nimport { useSearchParams } from 'react-router-dom';\nimport LoadingBox from '../components/LoadingBox';\nimport MessageBox from '../components/MessageBox';\nexport default function SigninScreen() {\n  var _useSearchParams = useSearchParams(),\n    _useSearchParams2 = _slicedToArray(_useSearchParams, 1),\n    searchParams = _useSearchParams2[0];\n  var _useState = useState(''),\n    _useState2 = _slicedToArray(_useState, 2),\n    email = _useState2[0],\n    setEmail = _useState2[1];\n  var _useState3 = useState(''),\n    _useState4 = _slicedToArray(_useState3, 2),\n    password = _useState4[0],\n    setPassword = _useState4[1];\n  var redirect = searchParams ? searchParams.get('redirect') : '/';\n  var dispatch = useDispatch();\n  var userSignin = useSelector(function (state) {\n    return state.userSignin;\n  });\n  var userInfo = userSignin.userInfo,\n    loading = userSignin.loading,\n    error = userSignin.error;\n  var history = useNavigate();\n  var submitHandler = function submitHandler(e) {\n    e.preventDefault();\n    dispatch(signin(email, password));\n    history('/');\n  };\n  useEffect(function () {\n    if (userInfo) {\n      history(redirect);\n    }\n  }, [history, redirect, userInfo]);\n  return /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 31,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"form\", {\n    className: \"form\",\n    onSubmit: submitHandler,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 32,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 33,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(\"h1\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 34,\n      columnNumber: 21\n    }\n  }, \"\\u0110\\u0103ng Nh\\u1EADp\")), loading && /*#__PURE__*/React.createElement(LoadingBox, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 37,\n      columnNumber: 32\n    }\n  }), error && /*#__PURE__*/React.createElement(MessageBox, {\n    variant: \"danger\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 40,\n      columnNumber: 30\n    }\n  }, error), /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 42,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(\"label\", {\n    htmlFor: \"email\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 43,\n      columnNumber: 21\n    }\n  }, \"Email address\"), /*#__PURE__*/React.createElement(\"input\", {\n    type: \"email\",\n    id: \"email\",\n    placeholder: \"Enter email\",\n    required: true,\n    onChange: function onChange(e) {\n      return setEmail(e.target.value);\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 44,\n      columnNumber: 21\n    }\n  })), /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 52,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(\"label\", {\n    htmlFor: \"Password\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 53,\n      columnNumber: 21\n    }\n  }, \"M\\u1EADt kh\\u1EA9u\"), /*#__PURE__*/React.createElement(\"input\", {\n    type: \"password\",\n    id: \"password\",\n    placeholder: \"Enter password\",\n    required: true,\n    onChange: function onChange(e) {\n      return setPassword(e.target.value);\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 54,\n      columnNumber: 21\n    }\n  })), /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 62,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(\"label\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 63,\n      columnNumber: 21\n    }\n  }), /*#__PURE__*/React.createElement(\"button\", {\n    className: \"signin\",\n    type: \"submit\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 64,\n      columnNumber: 21\n    }\n  }, \"\\u0110\\u0103ng Nh\\u1EADp\")), /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 66,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(\"label\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 67,\n      columnNumber: 21\n    }\n  }), /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 68,\n      columnNumber: 21\n    }\n  }, \"Ch\\u01B0a c\\xF3 t\\xE0i kho\\u1EA3n? \", /*#__PURE__*/React.createElement(Link, {\n    to: \"/register\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 69,\n      columnNumber: 44\n    }\n  }, \"\\u0110\\u0103ng k\\xFD\")))));\n}","map":{"version":3,"names":["React","useEffect","useState","useDispatch","useSelector","Link","useNavigate","signin","useSearchParams","LoadingBox","MessageBox","SigninScreen","_useSearchParams","_useSearchParams2","_slicedToArray","searchParams","_useState","_useState2","email","setEmail","_useState3","_useState4","password","setPassword","redirect","get","dispatch","userSignin","state","userInfo","loading","error","history","submitHandler","e","preventDefault","createElement","__self","__source","fileName","_jsxFileName","lineNumber","columnNumber","className","onSubmit","variant","htmlFor","type","id","placeholder","required","onChange","target","value","to"],"sources":["C:/Users/Admin/Desktop/react app test/frontend/src/screens/SigninScreen.js"],"sourcesContent":["import React, { useEffect, useState } from 'react';\r\nimport { useDispatch, useSelector } from 'react-redux';\r\nimport { Link, useNavigate } from 'react-router-dom';\r\nimport { signin } from '../actions/userActions';\r\nimport { useSearchParams } from 'react-router-dom';\r\nimport LoadingBox from '../components/LoadingBox';\r\nimport MessageBox from '../components/MessageBox';\r\n\r\nexport default function SigninScreen(){\r\n    const [searchParams] = useSearchParams();\r\n    const [email, setEmail] = useState('');\r\n    const [password, setPassword] = useState('');\r\n\r\n    const redirect = searchParams? searchParams.get('redirect') : '/';\r\n    const dispatch = useDispatch();\r\n    const userSignin = useSelector((state) => state.userSignin);\r\n    const { userInfo, loading, error } = userSignin;\r\n    const history = useNavigate();\r\n\r\n    const submitHandler = (e) => {\r\n        e.preventDefault();\r\n        dispatch(signin(email, password));\r\n        history('/');\r\n    };\r\n    useEffect(() =>{\r\n        if(userInfo){\r\n            history(redirect);\r\n        }\r\n    }, [history, redirect, userInfo])\r\n    return (\r\n        <div>\r\n            <form className=\"form\" onSubmit={submitHandler}>\r\n                <div>\r\n                    <h1>Đăng Nhập</h1>\r\n                </div>\r\n                {\r\n                    loading && <LoadingBox></LoadingBox>\r\n                }\r\n                {\r\n                    error && <MessageBox variant=\"danger\">{error}</MessageBox>\r\n                }\r\n                <div>\r\n                    <label htmlFor=\"email\">Email address</label>\r\n                    <input\r\n                    type=\"email\"\r\n                    id=\"email\"\r\n                    placeholder=\"Enter email\"\r\n                    required\r\n                    onChange={(e) => setEmail(e.target.value)}\r\n                    ></input>\r\n                </div>\r\n                <div>\r\n                    <label htmlFor=\"Password\">Mật khẩu</label>\r\n                    <input\r\n                    type=\"password\"\r\n                    id=\"password\"\r\n                    placeholder=\"Enter password\"\r\n                    required\r\n                    onChange={(e) => setPassword(e.target.value)}\r\n                    ></input>\r\n                </div>\r\n                <div>\r\n                    <label/>\r\n                    <button className=\"signin\" type=\"submit\">Đăng Nhập</button>\r\n                </div>\r\n                <div>\r\n                    <label/>\r\n                    <div>\r\n                        Chưa có tài khoản? <Link to={`/register`}>Đăng ký</Link>\r\n                    </div>\r\n                </div>\r\n            </form>\r\n        </div>\r\n    );\r\n}\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}